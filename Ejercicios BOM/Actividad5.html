<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <link rel="icon" type="image/png" href="imgs/Logo.png">
        <title>Ejercicio BOM 5 - Ankush Bihal</title>
        <style>
            #contenedor {
                position: relative;
                width: 100%;
                height: 40px;
                background-color: grey;
            }

            #linea {
                position: absolute;
                width: 1%;
                height: 100%;
                background-color: red;
            }
        </style>
    </head>


    <body onload="mover()">
        <h1>DWEC_BOM Exercici 5</h1>
        <h3>ALLARGANT ... </h3>

        <button id="btn" onclick="funcionamientoBoton()">ATURAR</button><br><br>

        <div id="contenedor">
            <div id="linea"></div>
        </div>

        <script>
            var longitud = 0;
            var tiempo;

            function mover() {
                tiempo = setInterval(crearLinea, 50);

                let boton = document.getElementById("btn");
                let linea = document.getElementById("linea");

                function crearLinea() {
                    if (longitud >= 100) {
                        clearInterval(tiempo);
                        boton.remove();
                    } else {
                        longitud = longitud + 1;
                        linea.style.width = longitud + "%";
                    }
                }
            }


            // ========================================================================
            function funcionamientoBoton() {
                let boton = document.getElementById("btn");

                if (boton.innerHTML == "ATURAR") {
                    boton.innerHTML = "CONTINUAR";
                    clearInterval(tiempo);
                } else {
                    boton.innerHTML = "ATURAR";
                    mover();
                }
            }
        </script>

    </body>
</html>
